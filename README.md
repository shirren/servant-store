# Example Servant Application

The goal of this project is to share a template for writing an API in Haskell using the Servant library for the web layer and the Beam library for the data access layer and to make authoring Haskell code in the web realm as accessible as possible. The layout of the code will be described in this layout, but the intention will be to document the code and provide as much detail as possible. This project is currently in its infancy. External contributions are more than welcome. Please get in contact with via this projects issues tracker if you would like to help out.

CREATE TABLE users (
    id SERIAL
  , email VARCHAR NOT NULL
  , first_name VARCHAR NOT NULL
  , middle_name VARCHAR
  , last_name VARCHAR NOT NULL
  , perma_id VARCHAR default md5(random()::text)
  , PRIMARY KEY( id )
);

CREATE TABLE products (
    id SERIAL
  , description VARCHAR NOT NULL
  , price INT NOT NULL
  , perma_id TEXT default md5(random()::text)
  , PRIMARY KEY( id )
);

-- To stick with beams conventions we use the __ notation for foreign keys
-- if you would like to use the more conventional approach of a single underscore
-- then we need to overwrite the default settings.
CREATE TABLE orders (
    id SERIAL
  , user__id INTEGER REFERENCES users(id)
  , product__id INTEGER REFERENCES products(id)
  , perma_id TEXT default md5(random()::text)
  , PRIMARY KEY( id )
);

Checklist

Nullable columns - done
Autogenerated values (primary key & perma id) - done
Foreign key associations - done
Find all
Find by id
Update
Insert - done
Delete
Limits
Offsets
Migrations
Customize column names